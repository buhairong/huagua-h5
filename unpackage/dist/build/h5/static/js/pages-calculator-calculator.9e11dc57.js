(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-calculator-calculator"],{"0b84":function(t,i,a){var e=a("24fb");i=e(!1),i.push([t.i,".header[data-v-0e446899]{height:%?88?%;display:flex;justify-content:center;align-items:center}.logo[data-v-0e446899]{width:%?188?%;height:%?36?%}",""]),t.exports=i},"0e65":function(t,i,a){"use strict";a.r(i);var e=a("12de"),s=a("9986");for(var n in s)["default"].indexOf(n)<0&&function(t){a.d(i,t,(function(){return s[t]}))}(n);a("d8ca");var o=a("f0c5"),r=Object(o["a"])(s["default"],e["b"],e["c"],!1,null,"0e446899",null,!1,e["a"],void 0);i["default"]=r.exports},"12de":function(t,i,a){"use strict";a.d(i,"b",(function(){return e})),a.d(i,"c",(function(){return s})),a.d(i,"a",(function(){}));var e=function(){var t=this.$createElement,i=this._self._c||t;return i("v-uni-view",{staticClass:"header"},[i("v-uni-image",{staticClass:"logo",attrs:{src:"/static/logo.png"}})],1)},s=[]},"45ab":function(t,i,a){"use strict";a.r(i);var e=a("7bbe"),s=a("e591");for(var n in s)["default"].indexOf(n)<0&&function(t){a.d(i,t,(function(){return s[t]}))}(n);a("50e7");var o=a("f0c5"),r=Object(o["a"])(s["default"],e["b"],e["c"],!1,null,"63115349",null,!1,e["a"],void 0);i["default"]=r.exports},"4cc1":function(t,i,a){var e=a("72f4");e.__esModule&&(e=e.default),"string"===typeof e&&(e=[[t.i,e,""]]),e.locals&&(t.exports=e.locals);var s=a("4f06").default;s("88ac63fe",e,!0,{sourceMap:!1,shadowMode:!1})},"50e7":function(t,i,a){"use strict";var e=a("4cc1"),s=a.n(e);s.a},"5fd1":function(t,i,a){"use strict";function e(t,i,a,e,s){if(e||(e=0),s||(s=0),0==t)return-(a+e)/i;var n=Math.pow(1+t,i),o=t/(n-1)*-(a*n+e);return s&&(o/=1+t),o}a("7a82"),Object.defineProperty(i,"__esModule",{value:!0}),i.PMT=e,i.PPMT=function(t,i,a,s,n,o){if(i<1||i>=a+1)return null;var r=e(t,a,s,n,o),c=function(t,i,a,e){var s=Math.pow(1+a,e);return 0-(t*s*a+i*(s-1))}(s,r,t,i-1);return r-c}},"72f4":function(t,i,a){var e=a("24fb");i=e(!1),i.push([t.i,".header-bg[data-v-63115349]{width:100vw}.container[data-v-63115349]{margin-top:%?-170?%;padding:0 %?32?% 40px;position:relative;z-index:100}.card[data-v-63115349]{margin-bottom:12px;padding:20px %?40?% 0;width:100%;border-radius:%?24?%;opacity:1;background:#fff;box-shadow:0 -2px 32px 0 rgba(10,15,45,.02),0 8px 24px 0 rgba(10,15,45,.04);box-sizing:border-box}.card-title-wrap[data-v-63115349]{margin-bottom:%?16?%;height:%?48?%;display:flex;justify-content:center;align-items:center}.card-title[data-v-63115349]{font-size:%?34?%;text-align:center;color:#0a0f2d}.card-item[data-v-63115349]{height:%?100?%;display:flex;justify-content:space-between;align-items:center;box-shadow:inset 0 -1px 0 0 rgba(10,15,45,.04)}.card-item[data-v-63115349]:last-child{box-shadow:none}.left[data-v-63115349]{font-size:%?30?%;color:#0a0f2d;font-weight:500}.middle[data-v-63115349]{font-size:%?30?%;color:#bfbfbf}.right[data-v-63115349]{font-size:%?30?%;color:#0a0f2d}.calculator-text[data-v-63115349]{color:#bfbfbf}.movable[data-v-63115349]{margin-bottom:8px;display:flex;align-items:center}.movable-img[data-v-63115349]{width:%?34?%}.movable-area[data-v-63115349]{margin:0 %?16?%;width:100%;height:%?8?%;border-radius:%?4?%;background:rgba(10,15,45,.08);position:relative}.process[data-v-63115349]{position:absolute;top:0;left:0;z-index:100;height:%?8?%;border-top-left-radius:%?4?%;border-bottom-left-radius:%?4?%;background:#0a0f2d}.movable-view[data-v-63115349]{width:%?32?%;height:%?32?%;background:#0a0f2d;border-radius:50%;border:%?4?% solid #fff;margin-top:%?-12?%;box-sizing:border-box}.btn[data-v-63115349]{margin-top:12px;width:100%;height:%?116?%;border-radius:%?16?%;background:#0a0f2d;font-size:%?34?%;color:#fff;display:flex;justify-content:center;align-items:center}.mask[data-v-63115349]{position:fixed;top:0;left:0;z-index:100;background:rgba(0,0,0,.5);width:100vw;height:100vh;display:flex;justify-content:center;align-items:center;padding:0 %?32?%;box-sizing:border-box}.popup[data-v-63115349]{width:100%;background-color:#fff;padding:25px %?32?% 31px}.popup-title-wrap[data-v-63115349]{margin-bottom:%?50?%;height:%?44?%;font-size:%?34?%;line-height:%?44?%;color:#0a0f2d;text-align:center;position:relative}.close-btn[data-v-63115349]{width:%?36?%;height:%?36?%;position:absolute;top:%?4?%;right:0;z-index:200}.popup-item[data-v-63115349]{margin-bottom:%?52?%}.popup-item[data-v-63115349]:last-child{margin-bottom:0}.popup-item-title[data-v-63115349]{margin-bottom:6px;height:%?40?%;display:flex;align-items:center}.title-icon[data-v-63115349]{width:%?23?%;height:%?24?%;margin-right:%?8?%}.popup-item-title-text[data-v-63115349]{font-size:%?28?%;color:#0a0f2d}.popup-item-content[data-v-63115349]{padding-left:%?50?%;line-height:%?34?%;font-size:%?24?%;color:#666}",""]),t.exports=i},"7bbe":function(t,i,a){"use strict";a.d(i,"b",(function(){return e})),a.d(i,"c",(function(){return s})),a.d(i,"a",(function(){}));var e=function(){var t=this,i=t.$createElement,a=t._self._c||i;return a("v-uni-view",[a("v-uni-image",{staticClass:"header-bg",attrs:{src:"/static/header_bg.png"}}),a("v-uni-view",{staticClass:"container"},[a("v-uni-view",{staticClass:"card"},[a("v-uni-view",{staticClass:"card-title-wrap"},[a("v-uni-view",{staticClass:"card-title"},[t._v("订阅方案")]),a("v-uni-image",{staticStyle:{width:"36rpx",height:"36rpx","margin-left":"8rpx"},attrs:{src:"/static/info-circle.png"},on:{click:function(i){arguments[0]=i=t.$handleEvent(i),t.openPopup.apply(void 0,arguments)}}})],1),a("v-uni-view",{staticClass:"card-item"},[a("v-uni-view",{staticClass:"left"},[t._v("订阅周期")]),a("v-uni-view",{staticClass:"right"},[t._v("6期")])],1),a("v-uni-view",{staticClass:"card-item",staticStyle:{"box-shadow":"none"}},[a("v-uni-view",{staticClass:"left"},[t._v("订阅费用")]),a("v-uni-view",{staticClass:"middle"},[t._v("（"+t._s(t.isCalculator?t.calculatorText:t.formatThousandNumber(t.monthPayment))+"元/月）")]),a("v-uni-view",{staticClass:"right"},[t.isCalculator?a("v-uni-text",{staticClass:"calculator-text"},[t._v(t._s(t.calculatorText))]):a("v-uni-text",[t._v(t._s(t.formatThousandNumber(t.paymentTotal))+" 元")])],1)],1),a("v-uni-view",{staticClass:"movable"},[a("v-uni-image",{staticClass:"movable-img",attrs:{src:"/static/minus.png",mode:"widthFix"},on:{click:function(i){arguments[0]=i=t.$handleEvent(i),t.minus.apply(void 0,arguments)}}}),a("v-uni-movable-area",{ref:"movable",staticClass:"movable-area"},[a("v-uni-view",{staticClass:"process",style:{width:t.processWidth+"px"}}),a("v-uni-movable-view",{ref:"ball",staticClass:"movable-view",attrs:{x:t.x,direction:"horizontal"},on:{change:function(i){arguments[0]=i=t.$handleEvent(i),t.onChange.apply(void 0,arguments)}}})],1),a("v-uni-image",{staticClass:"movable-img",attrs:{src:"/static/plus.png",mode:"widthFix"},on:{click:function(i){arguments[0]=i=t.$handleEvent(i),t.plus.apply(void 0,arguments)}}})],1),a("v-uni-view",{staticClass:"card-item"},[a("v-uni-view",{staticClass:"left"},[t._v("订阅押金")]),a("v-uni-view",{staticClass:"right"},[t.isCalculator?a("v-uni-text",{staticClass:"calculator-text"},[t._v(t._s(t.calculatorText))]):a("v-uni-text",[t._v(t._s(t.formatThousandNumber(t.deposit))+" 元")])],1)],1)],1),a("v-uni-view",{staticClass:"card card2"},[a("v-uni-view",{staticClass:"card-title-wrap"},[a("v-uni-view",{staticClass:"card-title"},[t._v("期末方案")])],1),a("v-uni-view",{staticClass:"card-item"},[a("v-uni-view",{staticClass:"left"},[t._v("留购车辆")]),a("v-uni-view",{staticClass:"middle"},[t._v("（押金可抵扣）")]),a("v-uni-view",{staticClass:"right"},[t.isCalculator?a("v-uni-text",{staticClass:"calculator-text"},[t._v(t._s(t.calculatorText))]):a("v-uni-text",[t._v(t._s(t.formatThousandNumber(t.buyoutsFee))+" 元")])],1)],1),a("v-uni-view",{staticClass:"card-item"},[a("v-uni-view",{staticClass:"left"},[t._v("继续订阅")]),a("v-uni-view",{staticClass:"middle"},[t._v("（"+t._s(t.isCalculator?t.calculatorText:t.formatThousandNumber(t.nextMonthPayment))+"元/月）")]),a("v-uni-view",{staticClass:"right"},[t.isCalculator?a("v-uni-text",{staticClass:"calculator-text"},[t._v(t._s(t.calculatorText))]):a("v-uni-text",[t._v(t._s(t.formatThousandNumber(t.nextPaymentTotal))+" 元")])],1)],1),a("v-uni-view",{staticClass:"card-item"},[a("v-uni-view",{staticClass:"left"},[t._v("退回车辆")]),a("v-uni-view",{staticClass:"right"},[t._v("押金原路退还")])],1)],1),a("v-uni-view",{staticClass:"btn",on:{click:function(i){arguments[0]=i=t.$handleEvent(i),t.goPrevPage.apply(void 0,arguments)}}},[a("v-uni-image",{staticStyle:{width:"23rpx",height:"24rpx","margin-right":"16rpx"},attrs:{src:"/static/arrow-left.png"}}),t._v("上一步")],1)],1),t.showPopup?a("v-uni-view",{staticClass:"mask",on:{click:function(i){arguments[0]=i=t.$handleEvent(i),t.closePopup.apply(void 0,arguments)}}},[a("v-uni-view",{staticClass:"popup",on:{click:function(i){i.stopPropagation(),arguments[0]=i=t.$handleEvent(i)}}},[a("v-uni-view",{staticClass:"popup-title-wrap"},[t._v("订阅流程"),a("v-uni-image",{staticClass:"close-btn",attrs:{src:"/static/close.png"},on:{click:function(i){arguments[0]=i=t.$handleEvent(i),t.closePopup.apply(void 0,arguments)}}})],1),a("v-uni-view",{staticClass:"popup-item"},[a("v-uni-view",{staticClass:"popup-item-title"},[a("v-uni-image",{staticClass:"title-icon",attrs:{src:"/static/arrow-right.png"}}),a("v-uni-view",{staticClass:"popup-item-title-text"},[t._v("1.定制产品")])],1),a("v-uni-view",{staticClass:"popup-item-content"},[t._v("选择适合您的订阅方案，选择签约主体，个性化定制车辆颜色和增配项")])],1),a("v-uni-view",{staticClass:"popup-item"},[a("v-uni-view",{staticClass:"popup-item-title"},[a("v-uni-image",{staticClass:"title-icon",attrs:{src:"/static/arrow-right.png"}}),a("v-uni-view",{staticClass:"popup-item-title-text"},[t._v("2.资质认证")])],1),a("v-uni-view",{staticClass:"popup-item-content"},[t._v("资金方需要对订阅主体的身份进行审核认证，审核通过即可在线签约")])],1),a("v-uni-view",{staticClass:"popup-item"},[a("v-uni-view",{staticClass:"popup-item-title"},[a("v-uni-image",{staticClass:"title-icon",attrs:{src:"/static/arrow-right.png"}}),a("v-uni-view",{staticClass:"popup-item-title-text"},[t._v("3.签约付款")])],1),a("v-uni-view",{staticClass:"popup-item-content"},[t._v("在线完成订阅合约签订，支付车辆押金费用后，商户开始备车")])],1),a("v-uni-view",{staticClass:"popup-item"},[a("v-uni-view",{staticClass:"popup-item-title"},[a("v-uni-image",{staticClass:"title-icon",attrs:{src:"/static/arrow-right.png"}}),a("v-uni-view",{staticClass:"popup-item-title-text"},[t._v("4.喜提爱车")])],1),a("v-uni-view",{staticClass:"popup-item-content"},[t._v("商户完成车辆采购、落地上牌流程后，会与您预约具体交车时间，原则上车辆准备周期不超过30天，特殊情况除外")])],1),a("v-uni-view",{staticClass:"popup-item"},[a("v-uni-view",{staticClass:"popup-item-title"},[a("v-uni-image",{staticClass:"title-icon",attrs:{src:"/static/arrow-right.png"}}),a("v-uni-view",{staticClass:"popup-item-title-text"},[t._v("5.期末选择")])],1),a("v-uni-view",{staticClass:"popup-item-content"},[t._v("订阅期结束30天前，您可以随时选择期末（留购车辆、继续订阅车辆、无损退回车辆）")])],1)],1)],1):t._e()],1)},s=[]},9986:function(t,i,a){"use strict";a.r(i);var e=a("a455"),s=a.n(e);for(var n in e)["default"].indexOf(n)<0&&function(t){a.d(i,t,(function(){return e[t]}))}(n);i["default"]=s.a},a455:function(t,i){},a486:function(t,i,a){"use strict";a("7a82"),Object.defineProperty(i,"__esModule",{value:!0}),i.formatTenThousandNumber=void 0,i.formatThousandNumber=e,i.getDeposit=function(t){return t?"￥".concat(e(t)):0===t?"减免保证金":"-"},i.getImageInfo=function(t){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:.75;return new Promise((function(a){uni.getImageInfo({src:t,success:function(e){console.log("getImageInfo",e);var s=t;if(e.height>e.width){var n=e.width,o=Math.floor(e.width*i),r=Math.floor((e.height-o)/2);s="".concat(t,"?x-oss-process=image/crop,x_").concat(0,",y_").concat(r,",w_").concat(n,",h_").concat(o)}console.log("getImageInfo",s),a(s)},fail:function(t){console.log(t),a("")}})}))},i.hideMobile=function(t){var i=t.replace(/(\d{3})(\d{4})(\d{4})/,"$1****$3");return i},i.toChinesNum=void 0,a("d401"),a("d3b7"),a("25f0"),a("26e9"),a("13d5"),a("99af"),a("e25e"),a("159b"),a("3c65"),a("14d9"),a("ac1f"),a("5319");function e(t){t=Math.floor(t);var i=t.toString(),a=i.split("").reverse();return a.reduce((function(t,i,a){return a%3===0?t?i+","+t:i:i+t}),"")}i.formatTenThousandNumber=function(t){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"万",a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",e="";return(t||0==t)&&(e=t<1e4?t+a:t%1e4===0?t/1e4+i:t%1e3===0?(t/1e4).toFixed(1)+i:(t/1e4).toFixed(2)+i),e};i.toChinesNum=function(t){var i=["零","一","二","三","四","五","六","七","八","九"],a=["","十","百","千","万"];t=parseInt(t);var e=function(t){var e=t.toString().split("").reverse(),s="",n=[];e.forEach((function(t,e){n.unshift("0"===t?i[t]:i[t]+a[e])}));var o=[];return n.forEach((function(t,i){"零"!==t&&o.push(i)})),n.length>1?n.forEach((function(t,i){"零"===n[n.length-1]?i<=o[o.length-1]&&(s+=t):s+=t})):s=n[0],s},s=Math.floor(t/1e4),n=t%1e4;return n.toString().length<4&&(n="0"+n),s?e(s)+"万"+e(n):e(t)}},d8ca:function(t,i,a){"use strict";var e=a("f95e"),s=a.n(e);s.a},ddba:function(t,i,a){"use strict";a("7a82");var e=a("4ea4").default;Object.defineProperty(i,"__esModule",{value:!0}),i.default=void 0;var s=e(a("0e65")),n=a("a486"),o=a("5fd1"),r={components:{Header:s.default},data:function(){return{processWidth:0,x:0,width:0,min:9,max:11,allSlide:2,price:0,showPopup:!1,calculatorText:"计算中",isCalculator:!0,amortizeRate:9.6,IRR:.1,firstPaymentRate:.1,depositRate:0,viewDepositRate:.1,finalResidualRate:.3,monthPayment:null,paymentTotal:null,deposit:null,buyoutsFee:null,nextMonthPayment:null,nextPaymentTotal:null,init:!0,MSRPMin:2.95,MSRPMax:3.05,profit:5.5}},onLoad:function(t){this.price=t.price,this.calculator()},mounted:function(){var t=this.$refs.movable.width,i=this.$refs.ball.width;this.width=t-i,this.moveX()},methods:{getMSRP:function(t,i,a){return(t*i/100-a)/t},calculator:function(){console.log("amortizeRate",this.amortizeRate),console.log("profit",this.profit),this.isCalculator=!0;var t=this.price*((100+this.profit)/100)+1e3,i=t*this.depositRate,a=t*this.amortizeRate/100,e=t*this.firstPaymentRate,s=1-this.firstPaymentRate-this.amortizeRate/100,n=t*(1e3*s)/1e3;console.log("this.IRR/2",this.IRR/2);var r=(0,o.PMT)(this.IRR/2,1,-a,null,!0);this.monthPayment=(r+(n-i)*this.IRR/2)/6,console.log("monthPayment1",this.monthPayment),this.monthPayment=this.formatPrice(this.monthPayment);var c=this.getMSRP(this.price,this.profit,this.monthPayment);c*=100,console.log("MSRP",c),(c<this.MSRPMin||c>this.MSRPMax)&&(c<this.MSRPMin&&(this.profit=(10*this.profit+1)/10),c>this.MSRPMax&&(this.profit=(10*this.profit-1)/10),this.calculator()),this.paymentTotal=6*this.monthPayment,this.deposit=this.formatPrice(t*this.viewDepositRate,4),this.buyoutsFee=this.formatPrice(n+e);var l=t*this.finalResidualRate,u=((0,o.PPMT)(this.IRR/2,1,5,-1*(t-e-a-l),0),(0,o.PMT)(this.IRR/12,30,-1*(t-e-a),l,!0));this.nextMonthPayment=this.formatPrice(u-i*this.IRR/12),console.log("monthPayment2",u-i*this.IRR/12),this.nextPaymentTotal=6*this.nextMonthPayment,this.isCalculator=!1},moveX:function(){var t=this;this.init=!0,this.x=(this.amortizeRate-this.min)/this.allSlide*this.width,this.processWidth=this.x,this.calculator(),setTimeout((function(){t.init=!1}),1e3)},minus:function(){this.amortizeRate<=this.min||(this.amortizeRate=(10*this.amortizeRate-1)/10,this.moveX())},plus:function(){this.amortizeRate>=this.max||(this.amortizeRate=(10*this.amortizeRate+1)/10,this.moveX())},onChange:function(t){this.init||(this.x=t.detail.x,0===this.x?(this.amortizeRate=this.min,this.processWidth=0):this.x>=this.width?(this.amortizeRate=this.max,this.processWidth=this.width):(this.amortizeRate=Math.floor(10*(this.x/this.width*this.allSlide+this.min)),this.amortizeRate=this.amortizeRate/10,this.processWidth=this.x),this.calculator())},openPopup:function(){this.showPopup=!0},closePopup:function(){this.showPopup=!1},goPrevPage:function(){uni.navigateBack({delta:1})},formatThousandNumber:function(t){return t?(0,n.formatThousandNumber)(t):0},formatPrice:function(t){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2,a=Math.pow(10,i),e=t/a;return e=Math.ceil(e),e*=a,e}}};i.default=r},e591:function(t,i,a){"use strict";a.r(i);var e=a("ddba"),s=a.n(e);for(var n in e)["default"].indexOf(n)<0&&function(t){a.d(i,t,(function(){return e[t]}))}(n);i["default"]=s.a},f95e:function(t,i,a){var e=a("0b84");e.__esModule&&(e=e.default),"string"===typeof e&&(e=[[t.i,e,""]]),e.locals&&(t.exports=e.locals);var s=a("4f06").default;s("714a2aca",e,!0,{sourceMap:!1,shadowMode:!1})}}]);